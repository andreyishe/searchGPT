searchGPT

A Spring Boot app that uses OpenAI to answer questions based on crawled site content (RAG).
You can run it in two modes:
	‚Ä¢	API mode (default, runs HTTP server)
	‚Ä¢	CLI mode (interactive console chat)

‚∏ª

üöÄ Run with IntelliJ IDEA
	1.	Open the project in IntelliJ IDEA
	2.	Go to Run ‚Üí Edit Configurations‚Ä¶ and select SearchGptApplication
	3.	Set Environment variables ‚Üí OPENAI_API_KEY=sk-... (required)

‚ñ∂Ô∏è Run as API
	‚Ä¢	Active profiles: (leave empty) or default
	‚Ä¢	Program arguments (choose one):
	‚Ä¢	Quick start (no crawl): (leave empty)
	‚Ä¢	Crawl on startup (recommended):
--app.crawl.enabled=true --app.crawl.start-url=https://www.ancud.de/ --app.crawl.max-depth=3 --app.crawl.max-pages=300

Click Run. The API will be at: http://localhost:8080

Test (cURL):

curl -s http://localhost:8080/api/chat \
  -H "Content-Type: application/json" \
  -d '{"prompt":"What about Career in ancud?"}'

Endpoints
	‚Ä¢	POST /api/chat ‚Üí body: {"prompt":"..."}
	‚Ä¢	returns: {"answer":"...", "sources":["https://..."]}
	‚Ä¢	GET /api/chat/site-content ‚Üí returns concatenated crawled text (plain text)

‚∏ª

üíª Run as CLI
	‚Ä¢	Active profiles: cli
	‚Ä¢	Program arguments (choose one):
	‚Ä¢	Dry run (no crawl): --app.crawl.enabled=false
	‚Ä¢	With crawl:
--app.crawl.enabled=true --app.crawl.start-url=https://www.ancud.de/ --app.crawl.max-depth=3 --app.crawl.max-pages=300

Click Run. You‚Äôll see:

OpenAI CLI chat (always JSON) ====
Enter request or 'exit' to quit:

Type your question (e.g., What about Career in ancud?) and press Enter.

‚∏ª

üß∞ Run from Terminal

Make sure your key is set. Use two regular hyphens -- (not a long dash).

macOS / Linux

export OPENAI_API_KEY=sk-...

CLI mode

./mvnw -DskipTests spring-boot:run \
  -Dspring-boot.run.profiles=cli \
  -Dspring-boot.run.arguments="--app.crawl.enabled=true --app.crawl.start-url=https://www.ancud.de/ --app.crawl.max-depth=3 --app.crawl.max-pages=300"

API mode

./mvnw -DskipTests spring-boot:run \
  -Dspring-boot.run.arguments="--app.crawl.enabled=true --app.crawl.start-url=https://www.ancud.de/ --app.crawl.max-depth=3 --app.crawl.max-pages=300"

Windows PowerShell

$env:OPENAI_API_KEY="sk-..."

(run the same ./mvnw ... commands above)

‚∏ª

‚öôÔ∏è Useful flags
	‚Ä¢	--app.crawl.enabled=true|false ‚Äî enable/disable crawling at startup
	‚Ä¢	--app.crawl.start-url=https://example.com/ ‚Äî seed URL
	‚Ä¢	--app.crawl.max-depth=3 ‚Äî crawl depth
	‚Ä¢	--app.crawl.max-pages=300 ‚Äî max pages to collect
	‚Ä¢	--server.port=8081 ‚Äî change API port

‚∏ª

‚ùó Troubleshooting
	‚Ä¢	Could not resolve placeholder 'OPENAI_API_KEY' ‚Üí Set the key as env var (or VM option -Dspring.ai.openai.api-key=sk-...).
	‚Ä¢	Only ‚ÄúI don‚Äôt know‚Äù ‚Üí You likely ran with --app.crawl.enabled=false (no content). Re-run with crawl enabled or hit /api/chat/site-content to confirm content exists.
	‚Ä¢	Command fails ‚Üí Ensure you used -- (double hyphen), not ‚Äì (en dash).
	‚Ä¢	Port in use ‚Üí Add --server.port=8081.